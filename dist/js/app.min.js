var __=function(t){"use strict";if(void 0===window.__)return{random:function(t,n){if(!(n<=t||t<0||n<0))return Math.floor(Math.random()*(n-t+1)+t)}}}();!function(t){"use strict";var n,e,i,o,r,a,c,s,l,u,g,f,d,h,m,p,v,w,C=(n=document.getElementById("canvas"),e=n.getContext("2d"),i=window.matchMedia("(min-width: 721px )").matches?680:window.matchMedia("(min-width: 461px )").matches?455:318,o=Math.floor(i/.78),r=document.getElementsByClassName("template")[0],a=i,c=o,s=document.getElementsByClassName("template__info-lifes")[0],l=document.getElementsByClassName("template__icon-heart")[0],u=document.getElementsByClassName("template__info-clock")[0],g=document.getElementsByClassName("template__prompt-start")[0],f=15*i/340,d="blue",h=.1,m=i/2,p=o/2,v="white",w=20*i/340,{getCnv:function(){return n},getContext:function(){return e},getCnvHeight:function(){return o},getCnvWidth:function(){return i},getTemplate:function(){return r},getTemplateWidth:function(){return a},getTemplmateHeight:function(){return c},getLifeCounter:function(){return s},getHeartIcon:function(){return l},getClock:function(){return u},getPromptStart:function(){return g},getXo:function(){return m},getYo:function(){return p},getBallRadius:function(){return f},getBallColor:function(){return d},getGravity:function(){return h},getColumnsColor:function(){return v},getColumnsWidth:function(){return w},getGapTopMin:function(){return 0},getGapTopMax:function(){return.65},getGapHeightMin:function(){return.2},getGapHeightMax:function(){return.35},getLifes:function(){return 2},setGravity:function(t){h=t},setBallColor:function(t){d=t},setColumnsColor:function(t){v=t}});t.config=C,window.madball=t}(window.madball||{}),function(t){"use strict";if("undefined"!=typeof localStorage){var n=function(){var e=null;function i(t,n){(e=JSON.parse(localStorage.getItem("config")))[t]=n,localStorage.setItem("config",JSON.stringify(e))}return{create:i,read:function(t){return(e=JSON.parse(localStorage.getItem("config")))[t]},update:function(t,n){i(t,n)},delete:function(t){delete(e=JSON.parse(localStorage.getItem("config")))[t],localStorage.setItem("config",JSON.stringify(e))}}}();t.db=n,window.madball=t}else alert("your browser does not support local storage\nTry to update you browser")}(window.madball||{}),function(i,o){"use strict";var t=function(){function n(t){this.canvas_h=i.config.getCnvHeight(),this.x=i.config.getXo(),this.y=i.config.getYo(),this.dx=0,this.dy=0,this.g=i.config.getGravity(),this.radius=i.config.getBallRadius(),this.color=i.config.getBallColor(),this.draw=function(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fillStyle=this.color,t.fill()},this.move=function(){this.dy+=this.g,this.y=this.y+this.dy},this.jump=function(){this.dy=-4},this.bounce_off=function(){this.y<this.radius?this.dy=5:this.y>this.canvas_h-this.radius&&(this.dy=-5)}}function e(t){this.canvas_h=i.config.getCnvHeight(),this.x=i.config.getCnvWidth(),this.col_w=i.config.getColumnsWidth(),this.gap_top=o.random(this.canvas_h*i.config.getGapTopMin(),this.canvas_h*i.config.getGapTopMax()),this.gap_h=o.random(this.canvas_h*i.config.getGapHeightMin(),this.canvas_h*i.config.getGapHeightMax()),this.color=i.config.getColumnsColor(),this.draw=function(t){t.beginPath(),t.rect(this.x,0,this.col_w,this.gap_top),t.rect(this.x,this.gap_top+this.gap_h,this.col_w,this.canvas_h),t.fillStyle=this.color,t.fill()},this.move=function(){this.x--}}var t={collided:!1,started:!1,lifes:i.config.getLifes(),clock:i.config.getClock(),setInterval:null,d:0,s:0,m:0,prompt_start:i.config.getPromptStart(),reduceLife:function(){this.lifes--},gameOver:function(){return this.lifes<0},start:function(){this.started=!0},showPromptStart:function(){this.prompt_start.classList.remove("is-hidden")},hidePromptStart:function(){this.prompt_start.classList.add("is-hidden")},end:function(){this.started=!1},startClock:function(){var t=this;t.setInterval=setInterval(function(){t.d++,9<t.d&&(t.d=0,t.s++),59<t.s&&(t.s=0,t.m++),t.clock.innerHTML=t.m+":0"+t.s+":"+t.d},100)}};return{Bird:function(t){return new n(t)},Columns:function(t){return new e(t)},Game:function(){return t}}}();i.model=t,window.madball=i}(window.madball||{},window.__),function(m,p){"use strict";var t=function(){var t=null,n=null,e=null,i=null,o=null,r=null,a=null,c=[],s=null,l=null,u=200,g=0,f=null,d=!1;function h(){g++,n.clearRect(0,0,e,i),s.draw(n),s.move();for(var t=c.length-1;-1<t;t--)c[t].draw(n),c[t].move();g%u==0&&(c.push(m.model.Columns(n)),u=p.random(160,200),g=0),c[0].x<-c[0].col_w&&c.shift(),s.bounce_off(),!l.collided&&function(){for(var t=c.length-1;-1<t;t--)if(s.x+s.radius>=c[t].x&&s.x+s.radius<=c[t].x+c[t].col_w&&(s.y-s.radius<=c[t].gap_top||s.y+s.radius>=c[t].gap_top+c[t].gap_h))return!0}()&&(l.collided=!0,s.color="green",l.reduceLife(),setTimeout(function(){s.color="blue",l.collided=!1},1500)),-1!=l.lifes?r.innerHTML=l.lifes+a.outerHTML:r.innerHTML=0+a.outerHTML,!l.gameOver()&&l.started?requestAnimationFrame(h):cancelAnimationFrame(f)}document.addEventListener("DOMContentLoaded",function(){t=m.config.getCnv(),n=m.config.getContext(),e=m.config.getCnvWidth(),i=m.config.getCnvHeight(),o=m.config.getTemplate(),r=m.config.getLifeCounter(),a=m.config.getHeartIcon(),s=m.model.Bird(n),c.push(m.model.Columns(n)),l=m.model.Game(),t.width=m.config.getCnvWidth(),t.height=m.config.getCnvHeight(),o.style.width=m.config.getTemplateWidth()+"px",o.style.height=m.config.getTemplmateHeight()+"px",h(),localStorage.getItem("config")?m.config.setGravity(parseFloat(m.db.read("gravity"))):(localStorage.setItem("config","{}"),m.db.create("gravity",m.config.getGravity())),l.showPromptStart(),document.onkeydown=function(t){32==t.keyCode&&!d&&l.started?(s.jump(),d=!0):32!=t.keyCode||d||l.started||(l.start(),l.hidePromptStart(),l.startClock(),f=requestAnimationFrame(h))},document.onkeyup=function(t){d=!1},t.onclick=function(t){l.started?s.jump():(l.start(),l.hidePromptStart(),l.startClock(),f=requestAnimationFrame(h))}})}();m.controller=t,window.madball=m}(window.madball||{},window.__);