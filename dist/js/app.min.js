var __=function(t){"use strict";if(void 0===window.__)return{random:function(t,n){if(!(n<=t||t<0||n<0))return Math.floor(Math.random()*(n-t+1)+t)}}}();!function(t){"use strict";var n,i,o,e,r,a,c=(n=document.getElementById("canvas"),i=n.getContext("2d"),o=n.width,e=n.height,a=.1,{ball_radius:15,ball_color:r="blue",Xo:o/2,Yo:e/2,getContext:function(){return i},getCnvHeight:function(){return e},getCnvWidth:function(){return o},getBallColor:function(){return r},getGravity:function(){return a},getColumnsColor:function(){return"white"},setGravity:function(t){a=t}});t.config=c,window.madball=t}(window.madball||{}),function(t){"use strict";if("undefined"!=typeof localStorage){var n=function(){var i=null;function o(t,n){(i=JSON.parse(localStorage.getItem("config")))[t]=n,localStorage.setItem("config",JSON.stringify(i))}return{create:o,read:function(t){return(i=JSON.parse(localStorage.getItem("config")))[t]},update:function(t,n){o(t,n)},delete:function(t){delete(i=JSON.parse(localStorage.getItem("config")))[t],localStorage.setItem("config",JSON.stringify(i))}}}();t.db=n,window.madball=t}else alert("your browser does not support local storage\nTry to update you browser")}(window.madball||{}),function(o,e){"use strict";var t=function(){function n(t){this.canvas_h=o.config.getCnvHeight(),this.x=o.config.Xo,this.y=o.config.Yo,this.dx=0,this.dy=0,this.g=o.config.getGravity(),this.radius=o.config.ball_radius,this.color=o.config.getBallColor(),this.draw=function(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fillStyle=this.color,t.fill()},this.move=function(){this.dy+=this.g,this.y=this.y+this.dy},this.jump=function(){this.dy=-4},this.bounce_off=function(){this.y<this.radius?this.dy=5:this.y>this.canvas_h-this.radius&&(this.dy=-5)}}function i(t){this.canvas_h=o.config.getCnvHeight(),this.x=o.config.getCnvWidth(),this.col_w=20,this.top_section=e.random(.2*this.canvas_h,.7*this.canvas_h),this.gap=e.random(.15*this.canvas_h,.3*this.canvas_h),this.color=o.config.getColumnsColor(),this.draw=function(t){t.beginPath(),t.rect(this.x,0,this.col_w,this.top_section),t.rect(this.x,this.top_section+this.gap,this.col_w,this.canvas_h),t.fillStyle=this.color,t.fill()},this.move=function(){this.x--}}var t={lifes:2,reduceLife:function(){this.lifes--},gameOver:function(){return this.lifes<0}};return{Bird:function(t){return new n(t)},Columns:function(t){return new i(t)},Game:function(){return t}}}();o.model=t,window.madball=o}(window.madball||{},window.__),function(d,g){"use strict";var t=function(){var n=null,i=null,o=null,e=[],r=null,a=null,c=200,s=0,l=null,u=!1,f=!1;function h(){s++,n.clearRect(0,0,i,o),r.draw(n),r.move();for(var t=e.length-1;-1<t;t--)e[t].draw(n),e[t].move();a.gameOver()?cancelAnimationFrame(l):requestAnimationFrame(h),s%c==0&&(e.push(d.model.Columns(n)),c=g.random(160,200),s=0),e[0].x<-e[0].col_w&&e.shift(),r.bounce_off(),!f&&function(){for(var t=e.length-1;-1<t;t--)if(r.x+r.radius>=e[t].x&&r.x+r.radius<=e[t].x+e[t].col_w&&(r.y-r.radius<=e[t].top_section||r.y+r.radius>=e[t].top_section+e[t].gap))return!0}()&&(f=!0,r.color="green",a.reduceLife(),setTimeout(function(){r.color="blue",f=!1},1500))}document.onkeydown=function(t){32!=t.keyCode||u||(r.jump(),u=!0)},document.onkeyup=function(t){u=!1},window.onload=function(){n=d.config.getContext(),i=d.config.getCnvWidth(),o=d.config.getCnvHeight(),localStorage.getItem("config")?d.config.setGravity(parseFloat(d.db.read("gravity"))):(localStorage.setItem("config","{}"),d.db.create("gravity",d.config.getGravity())),r=d.model.Bird(n),e.push(d.model.Columns(n)),a=d.model.Game(),l=requestAnimationFrame(h)}}();d.controller=t,window.madball=d}(window.madball||{},window.__);