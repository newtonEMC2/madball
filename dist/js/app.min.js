var __=function(t){"use strict";if(void 0===window.__)return{random:function(t,e){if(!(e<=t||t<0||e<0))return Math.floor(Math.random()*(e-t+1)+t)}}}();!function(t){"use strict";var e,n,i,o,a,r,s,c,l,u,g,d,f,m,h,v,p,C,y,_,w,L,S=(e=document.getElementsByClassName("canvas")[0],n=e.getContext("2d"),i=window.matchMedia("(min-width: 721px )").matches?680:window.matchMedia("(min-width: 461px )").matches?455:318,o=Math.floor(i/.78),a=document.getElementsByClassName("template")[0],r=i,s=o,c=document.getElementsByClassName("template__info-lifes")[0],l=document.getElementsByClassName("template__info-clock")[0],u=document.getElementsByClassName("template__icon-heart")[0],g=document.getElementsByClassName("template__icon-fullscreen")[0],d=document.getElementsByClassName("template__icon-minimize")[0],f=document.getElementsByClassName("template__prompt-start")[0],m=document.getElementsByClassName("template__prompt-end")[0],h=document.getElementsByClassName("template__overlay")[0],v=15*i/340,p="blue",C=.1,y=i/2,_=o/2,w="white",L=20*i/340,{getCnv:function(){return e},getContext:function(){return n},getCnvHeight:function(){return o},getCnvWidth:function(){return i},getTemplate:function(){return a},getTemplateWidth:function(){return r},getTemplmateHeight:function(){return s},getLifeCounter:function(){return c},getHeartIcon:function(){return u},getMinimizeIcon:function(){return d},getFullscreenIcon:function(){return g},getClock:function(){return l},getPromptStart:function(){return f},getPromptEnd:function(){return m},getOverlay:function(){return h},getXo:function(){return y},getYo:function(){return _},getBallRadius:function(){return v},getBallColor:function(){return p},getGravity:function(){return C},getColumnsColor:function(){return w},getColumnsWidth:function(){return L},getGapTopMin:function(){return 0},getGapTopMax:function(){return.65},getGapHeightMin:function(){return.2},getGapHeightMax:function(){return.35},getLifes:function(){return 2},setGravity:function(t){C=t},setBallColor:function(t){p=t},setColumnsColor:function(t){w=t}});t.config=S,window.madball=t}(window.madball||{}),function(t){"use strict";if("undefined"!=typeof localStorage){var e=function(){var n=null;function i(t,e){(n=JSON.parse(localStorage.getItem("config")))[t]=e,localStorage.setItem("config",JSON.stringify(n))}return{create:i,read:function(t){return(n=JSON.parse(localStorage.getItem("config")))[t]},update:function(t,e){i(t,e)},delete:function(t){delete(n=JSON.parse(localStorage.getItem("config")))[t],localStorage.setItem("config",JSON.stringify(n))}}}();t.db=e,window.madball=t}else alert("your browser does not support local storage\nTry to update you browser")}(window.madball||{}),function(u,i){"use strict";var t=function(){function e(t){this.canvas_h=u.config.getCnvHeight(),this.x=u.config.getXo(),this.y=u.config.getYo(),this.dx=0,this.dy=0,this.g=u.config.getGravity(),this.radius=u.config.getBallRadius(),this.color=u.config.getBallColor(),this.draw=function(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fillStyle=this.color,t.fill()},this.move=function(){this.dy+=this.g,this.y=this.y+this.dy},this.jump=function(){this.dy=-4},this.bounce_off=function(){this.y<this.radius?this.dy=5:this.y>this.canvas_h-this.radius&&(this.dy=-5)}}function n(t){this.canvas_h=u.config.getCnvHeight(),this.x=u.config.getCnvWidth(),this.col_w=u.config.getColumnsWidth(),this.gap_top=i.random(this.canvas_h*u.config.getGapTopMin(),this.canvas_h*u.config.getGapTopMax()),this.gap_h=i.random(this.canvas_h*u.config.getGapHeightMin(),this.canvas_h*u.config.getGapHeightMax()),this.color=u.config.getColumnsColor(),this.draw=function(t){t.beginPath(),t.rect(this.x,0,this.col_w,this.gap_top),t.rect(this.x,this.gap_top+this.gap_h,this.col_w,this.canvas_h),t.fillStyle=this.color,t.fill()},this.move=function(){this.x--}}var t=function(){var e=!1,t=!1,n=u.config.getLifes(),i=u.config.getClock(),o=null,a=0,r=0,s=0,c=u.config.getPromptStart(),l=u.config.getPromptEnd();return{getStarted:function(){return t},getLifes:function(){return n},getCollided:function(){return e},setCollided:function(t){e=t},reduceLife:function(){n--},gameOver:function(){return n<0},start:function(){t=!0,c.classList.add("is-hidden"),o=setInterval(function(){9<++a&&(a=0,r++),59<r&&(r=0,s++),i.innerHTML=s+(9<r?":":":0")+r+":"+a},100)},showPromptStart:function(){c.classList.remove("is-hidden")},end:function(){t=!1,clearInterval(o),l.classList.remove("is-hidden")}}};return{Bird:function(t){return new e(t)},Columns:function(t){return new n(t)},Game:function(){return t()}}}();u.model=t,window.madball=u}(window.madball||{},window.__),function(C,y){"use strict";var t=function(){var t=null,e=null,n=null,i=null,o=null,a=null,r=null,s=null,c=null,l=null,u=[],g=null,d=null,f=200,m=0,h=null,v=!1;function p(){m++,e.clearRect(0,0,n,i),g.draw(e),g.move();for(var t=u.length-1;-1<t;t--)u[t].draw(e),u[t].move();m%f==0&&(u.push(C.model.Columns(e)),f=y.random(160,200),m=0),u[0].x<-u[0].col_w&&u.shift(),g.bounce_off(),!d.getCollided()&&function(){for(var t=u.length-1;-1<t;t--)if(g.x+g.radius>=u[t].x&&g.x+g.radius<=u[t].x+u[t].col_w&&(g.y-g.radius<=u[t].gap_top||g.y+g.radius>=u[t].gap_top+u[t].gap_h))return!0}()&&(d.setCollided(!0),g.color="green",d.reduceLife(),setTimeout(function(){g.color="blue",d.setCollided(!1)},1500)),-1!=d.getLifes()?a.innerHTML=d.getLifes()+s.outerHTML:a.innerHTML=0+s.outerHTML,!d.gameOver()&&d.getStarted()?requestAnimationFrame(p):d.gameOver()&&d.getStarted()&&(d.end(),cancelAnimationFrame(h))}document.addEventListener("DOMContentLoaded",function(){t=C.config.getCnv(),e=C.config.getContext(),n=C.config.getCnvWidth(),i=C.config.getCnvHeight(),o=C.config.getTemplate(),a=C.config.getLifeCounter(),s=C.config.getHeartIcon(),c=C.config.getMinimizeIcon(),l=C.config.getFullscreenIcon(),r=C.config.getOverlay(),g=C.model.Bird(e),u.push(C.model.Columns(e)),d=C.model.Game(),t.width=C.config.getCnvWidth(),t.height=C.config.getCnvHeight(),o.style.width=C.config.getTemplateWidth()+"px",o.style.height=C.config.getTemplmateHeight()+"px",p(),localStorage.getItem("config")?C.config.setGravity(parseFloat(C.db.read("gravity"))):(localStorage.setItem("config","{}"),C.db.create("gravity",C.config.getGravity())),d.showPromptStart(),document.onkeydown=function(t){32==t.keyCode&&!v&&d.getStarted()?(g.jump(),v=!0):32!=t.keyCode||v||d.getStarted()||d.gameOver()?32!=t.keyCode||v||d.getStarted()||!d.gameOver()||location.reload():(d.start(),h=requestAnimationFrame(p))},document.onkeyup=function(t){v=!1},t.onclick=function(t){d.getStarted()?g.jump():d.gameOver()?location.reload():(d.start(),h=requestAnimationFrame(p))},l.onclick=function(t){l.classList.add("is-hidden"),c.classList.remove("is-hidden"),r.classList.remove("is-hidden"),o.classList.add("is-centered")},c.onclick=function(t){c.classList.add("is-hidden"),l.classList.remove("is-hidden"),r.classList.add("is-hidden"),o.classList.remove("is-centered")}})}();C.controller=t,window.madball=C}(window.madball||{},window.__),function(t){"use strict";var e,n,i=(e=document.getElementsByClassName("pageHeader__nav")[0],void(n=document.getElementsByClassName("pageHeader__toggle")[0]).addEventListener("click",function(){e.classList.contains("is-phone-nav-active")?(e.classList.remove("is-phone-nav-active"),n.classList.remove("is-toggle-nav-active")):(e.classList.add("is-phone-nav-active"),n.classList.add("is-toggle-nav-active"))}));t.ui=i}(window);