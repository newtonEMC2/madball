var __=function(t){"use strict";if(void 0===window.__)return{random:function(t,n){if(!(n<=t||t<0||n<0))return Math.floor(Math.random()*(n-t+1)+t)}}}();!function(t){"use strict";var n,i,o,e,r,a,s,c=(n=document.getElementById("canvas"),i=n.getContext("2d"),o=n.width,e=n.height,r=document.getElementsByClassName("infoPanel__lifes")[0],s=.1,{ball_radius:15,ball_color:a="blue",Xo:o/2,Yo:e/2,getContext:function(){return i},getCnvHeight:function(){return e},getCnvWidth:function(){return o},getLifeCounter:function(){return r},getBallColor:function(){return a},getGravity:function(){return s},getColumnsColor:function(){return"white"},getLifes:function(){return 2},setGravity:function(t){s=t}});t.config=c,window.madball=t}(window.madball||{}),function(t){"use strict";if("undefined"!=typeof localStorage){var n=function(){var i=null;function o(t,n){(i=JSON.parse(localStorage.getItem("config")))[t]=n,localStorage.setItem("config",JSON.stringify(i))}return{create:o,read:function(t){return(i=JSON.parse(localStorage.getItem("config")))[t]},update:function(t,n){o(t,n)},delete:function(t){delete(i=JSON.parse(localStorage.getItem("config")))[t],localStorage.setItem("config",JSON.stringify(i))}}}();t.db=n,window.madball=t}else alert("your browser does not support local storage\nTry to update you browser")}(window.madball||{}),function(o,e){"use strict";var t=function(){function n(t){this.canvas_h=o.config.getCnvHeight(),this.x=o.config.Xo,this.y=o.config.Yo,this.dx=0,this.dy=0,this.g=o.config.getGravity(),this.radius=o.config.ball_radius,this.color=o.config.getBallColor(),this.draw=function(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fillStyle=this.color,t.fill()},this.move=function(){this.dy+=this.g,this.y=this.y+this.dy},this.jump=function(){this.dy=-4},this.bounce_off=function(){this.y<this.radius?this.dy=5:this.y>this.canvas_h-this.radius&&(this.dy=-5)}}function i(t){this.canvas_h=o.config.getCnvHeight(),this.x=o.config.getCnvWidth(),this.col_w=20,this.top_section=e.random(.2*this.canvas_h,.7*this.canvas_h),this.gap=e.random(.15*this.canvas_h,.3*this.canvas_h),this.color=o.config.getColumnsColor(),this.draw=function(t){t.beginPath(),t.rect(this.x,0,this.col_w,this.top_section),t.rect(this.x,this.top_section+this.gap,this.col_w,this.canvas_h),t.fillStyle=this.color,t.fill()},this.move=function(){this.x--}}var t={lifes:o.config.getLifes(),reduceLife:function(){this.lifes--},gameOver:function(){return this.lifes<0}};return{Bird:function(t){return new n(t)},Columns:function(t){return new i(t)},Game:function(){return t}}}();o.model=t,window.madball=o}(window.madball||{},window.__),function(g,m){"use strict";var t=function(){var n=null,i=null,o=null,e=null,r=[],a=null,s=null,c=200,l=0,u=null,f=!1,h=!1;function d(){l++,n.clearRect(0,0,i,o),a.draw(n),a.move();for(var t=r.length-1;-1<t;t--)r[t].draw(n),r[t].move();l%c==0&&(r.push(g.model.Columns(n)),c=m.random(160,200),l=0),r[0].x<-r[0].col_w&&r.shift(),a.bounce_off(),!h&&function(){for(var t=r.length-1;-1<t;t--)if(a.x+a.radius>=r[t].x&&a.x+a.radius<=r[t].x+r[t].col_w&&(a.y-a.radius<=r[t].top_section||a.y+a.radius>=r[t].top_section+r[t].gap))return!0}()&&(h=!0,a.color="green",s.reduceLife(),setTimeout(function(){a.color="blue",h=!1},1500)),-1!=s.lifes?e.innerHTML=s.lifes:e.innerHTML=0,s.gameOver()?cancelAnimationFrame(u):requestAnimationFrame(d)}document.onkeydown=function(t){32!=t.keyCode||f||(a.jump(),f=!0)},document.onkeyup=function(t){f=!1},window.onload=function(){n=g.config.getContext(),i=g.config.getCnvWidth(),o=g.config.getCnvHeight(),e=g.config.getLifeCounter(),localStorage.getItem("config")?g.config.setGravity(parseFloat(g.db.read("gravity"))):(localStorage.setItem("config","{}"),g.db.create("gravity",g.config.getGravity())),a=g.model.Bird(n),r.push(g.model.Columns(n)),s=g.model.Game(),u=requestAnimationFrame(d)}}();g.controller=t,window.madball=g}(window.madball||{},window.__);