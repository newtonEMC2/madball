var __=function(t){"use strict";if(void 0===window.__)return{random:function(t,n){if(!(n<=t||t<0||n<0))return Math.floor(Math.random()*(n-t+1)+t)}}}();!function(t){"use strict";var n,i,e,o,r,a,c,s,u,l,f,g,d,h,m=(n=461,i=721,e=318,o=455,r=680,a=document.getElementById("canvas"),c=a.getContext("2d"),s=window.matchMedia("(min-width: "+i+"px )").matches?r:window.matchMedia("(min-width: "+n+"px )").matches?o:e,u=s/.78,l=document.getElementsByClassName("infoPanel__lifes")[0],f="blue",g=.1,d=s/2,h=u/2,{getCnv:function(){return a},getContext:function(){return c},getCnvHeight:function(){return u},getCnvWidth:function(){return s},getLifeCounter:function(){return l},getXo:function(){return d},getYo:function(){return h},getBallRadius:function(){return 15},getBallColor:function(){return f},getGravity:function(){return g},getColumnsColor:function(){return"white"},getColumnsWidth:function(){return 20},getLifes:function(){return 2},setGravity:function(t){g=t}});t.config=m,window.madball=t}(window.madball||{}),function(t){"use strict";if("undefined"!=typeof localStorage){var n=function(){var i=null;function e(t,n){(i=JSON.parse(localStorage.getItem("config")))[t]=n,localStorage.setItem("config",JSON.stringify(i))}return{create:e,read:function(t){return(i=JSON.parse(localStorage.getItem("config")))[t]},update:function(t,n){e(t,n)},delete:function(t){delete(i=JSON.parse(localStorage.getItem("config")))[t],localStorage.setItem("config",JSON.stringify(i))}}}();t.db=n,window.madball=t}else alert("your browser does not support local storage\nTry to update you browser")}(window.madball||{}),function(e,o){"use strict";var t=function(){function n(t){this.canvas_h=e.config.getCnvHeight(),this.x=e.config.getXo(),this.y=e.config.getYo(),this.dx=0,this.dy=0,this.g=e.config.getGravity(),this.radius=e.config.getBallRadius(),this.color=e.config.getBallColor(),this.draw=function(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fillStyle=this.color,t.fill()},this.move=function(){this.dy+=this.g,this.y=this.y+this.dy},this.jump=function(){this.dy=-4},this.bounce_off=function(){this.y<this.radius?this.dy=5:this.y>this.canvas_h-this.radius&&(this.dy=-5)}}function i(t){this.canvas_h=e.config.getCnvHeight(),this.x=e.config.getCnvWidth(),this.col_w=e.config.getColumnsWidth(),this.top_section=o.random(.2*this.canvas_h,.7*this.canvas_h),this.gap=o.random(.15*this.canvas_h,.3*this.canvas_h),this.color=e.config.getColumnsColor(),this.draw=function(t){t.beginPath(),t.rect(this.x,0,this.col_w,this.top_section),t.rect(this.x,this.top_section+this.gap,this.col_w,this.canvas_h),t.fillStyle=this.color,t.fill()},this.move=function(){this.x--}}var t={lifes:e.config.getLifes(),reduceLife:function(){this.lifes--},gameOver:function(){return this.lifes<0}};return{Bird:function(t){return new n(t)},Columns:function(t){return new i(t)},Game:function(){return t}}}();e.model=t,window.madball=e}(window.madball||{},window.__),function(h,m){"use strict";var t=function(){var t=null,n=null,i=null,e=null,o=null,r=[],a=null,c=null,s=200,u=0,l=null,f=!1,g=!1;function d(){u++,n.clearRect(0,0,i,e),a.draw(n),a.move();for(var t=r.length-1;-1<t;t--)r[t].draw(n),r[t].move();u%s==0&&(r.push(h.model.Columns(n)),s=m.random(160,200),u=0),r[0].x<-r[0].col_w&&r.shift(),a.bounce_off(),!g&&function(){for(var t=r.length-1;-1<t;t--)if(a.x+a.radius>=r[t].x&&a.x+a.radius<=r[t].x+r[t].col_w&&(a.y-a.radius<=r[t].top_section||a.y+a.radius>=r[t].top_section+r[t].gap))return!0}()&&(g=!0,a.color="green",c.reduceLife(),setTimeout(function(){a.color="blue",g=!1},1500)),-1!=c.lifes?o.innerHTML=c.lifes:o.innerHTML=0,c.gameOver()?cancelAnimationFrame(l):requestAnimationFrame(d)}document.onkeydown=function(t){32!=t.keyCode||f||(a.jump(),f=!0)},document.onkeyup=function(t){f=!1},document.addEventListener("DOMContentLoaded",function(){t=h.config.getCnv(),n=h.config.getContext(),i=h.config.getCnvWidth(),e=h.config.getCnvHeight(),o=h.config.getLifeCounter(),t.width=h.config.getCnvWidth(),t.height=h.config.getCnvHeight(),localStorage.getItem("config")?h.config.setGravity(parseFloat(h.db.read("gravity"))):(localStorage.setItem("config","{}"),h.db.create("gravity",h.config.getGravity())),a=h.model.Bird(n),r.push(h.model.Columns(n)),c=h.model.Game(),l=requestAnimationFrame(d)})}();h.controller=t,window.madball=h}(window.madball||{},window.__);