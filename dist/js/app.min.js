var __=function(t){"use strict";if(void 0===window.__)return{random:function(t,o){if(!(o<=t||t<0||o<0))return Math.floor(Math.random()*(o-t+1)+t)}}}();!function(t){"use strict";var o,n=(o=.1,{ball_radius:15,ball_color:"blue",getGravity:function(){return o},Xo:t.controller.canvas_w/2,Yo:t.controller.canvas_h/2,setGravity:function(t){o=t}});t.config=n,window.madball=t}(window.madball||{}),function(t){"use strict";if("undefined"!=typeof localStorage){var o=function(){var n=null;function i(t,o){(n=JSON.parse(localStorage.getItem("config")))[t]=o,localStorage.setItem("config",JSON.stringify(n))}return{create:i,read:function(t){return(n=JSON.parse(localStorage.getItem("config")))[t]},update:function(t,o){i(t,o)},delete:function(t){delete(n=JSON.parse(localStorage.getItem("config")))[t],localStorage.setItem("config",JSON.stringify(n))}}}();t.db=o,window.madball=t}else alert("your browser does not support local storage\nTry to update you browser")}(window.madball||{}),function(i,e){"use strict";var t=function(){function o(t){this.canvas_h=i.controller.canvas_h,this.x=i.config.Xo,this.y=i.config.Yo,this.dx=0,this.dy=0,this.g=i.config.getGravity(),this.radius=i.config.ball_radius,this.color=i.config.ball_color,this.draw=function(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fillStyle=this.color,t.fill()},this.move=function(){this.dy+=this.g,this.y=this.y+this.dy},this.jump=function(){this.dy=-4},this.bounce_off=function(){this.y<this.radius?this.dy=5:this.y>this.canvas_h-this.radius&&(this.dy=-5)}}function n(t){this.x=i.controller.canvas_w,this.col_w=20,this.top_section=e.random(.2*i.controller.canvas_h,.7*i.controller.canvas_h),this.gap=e.random(.15*i.controller.canvas_h,.3*i.controller.canvas_h),this.draw=function(t){t.rect(this.x,0,this.col_w,this.top_section),t.fillStyle="white",t.fill(),t.rect(this.x,this.top_section+this.gap,this.col_w,i.controller.canvas_h),t.fillStyle="white",t.fill()},this.move=function(){this.x--},this.collision=function(){}}return{Bird:function(t){return new o(t)},Columns:function(t){return new n(t)}}}();i.model=t,window.madball=i}(window.madball||{},window.__),function(u,d){"use strict";var t=function(){var t=document.getElementById("canvas"),o=t.getContext("2d"),n=t.width,i=t.height,e=[],a=null,r=200,l=0,c=!1;function s(){l++,o.clearRect(0,0,n,i),a.draw(o),a.move();for(var t=e.length-1;-1<t;t--)e[t].draw(o),e[t].move();l%r==0&&(e.push(u.model.Columns(o)),r=d.random(160,200),l=0),e[0].x<-e[0].col_w&&e.shift(),a.bounce_off(),requestAnimationFrame(s)}return document.onkeydown=function(t){32!=t.keyCode||c||(a.jump(),c=!0)},document.onkeyup=function(t){c=!1},window.onload=function(){localStorage.getItem("config")?u.config.setGravity(parseFloat(u.db.read("gravity"))):(localStorage.setItem("config","{}"),u.db.create("gravity",u.config.getGravity())),a=u.model.Bird(o),e.push(u.model.Columns(o)),requestAnimationFrame(s)},{ctx:o,canvas_w:n,canvas_h:i}}();u.controller=t,window.madball=u}(window.madball||{},window.__);