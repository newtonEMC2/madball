var __=function(t){"use strict";if(void 0===window.__)return{random:function(t,n){if(!(n<=t||t<0||n<0))return Math.floor(Math.random()*(n-t+1)+t)}}}();!function(t){"use strict";var n,o,i,e,r,a,s=(n=document.getElementById("canvas"),o=n.getContext("2d"),i=n.width,e=n.height,a=.1,{ball_radius:15,ball_color:r="blue",Xo:i/2,Yo:e/2,getContext:function(){return o},getCnvHeight:function(){return e},getCnvWidth:function(){return i},getBallColor:function(){return r},getGravity:function(){return a},getColumnsColor:function(){return"white"},setGravity:function(t){a=t}});t.config=s,window.madball=t}(window.madball||{}),function(t){"use strict";if("undefined"!=typeof localStorage){var n=function(){var o=null;function i(t,n){(o=JSON.parse(localStorage.getItem("config")))[t]=n,localStorage.setItem("config",JSON.stringify(o))}return{create:i,read:function(t){return(o=JSON.parse(localStorage.getItem("config")))[t]},update:function(t,n){i(t,n)},delete:function(t){delete(o=JSON.parse(localStorage.getItem("config")))[t],localStorage.setItem("config",JSON.stringify(o))}}}();t.db=n,window.madball=t}else alert("your browser does not support local storage\nTry to update you browser")}(window.madball||{}),function(i,e){"use strict";var t=function(){function n(t){this.canvas_h=i.config.getCnvHeight(),this.x=i.config.Xo,this.y=i.config.Yo,this.dx=0,this.dy=0,this.g=i.config.getGravity(),this.radius=i.config.ball_radius,this.color=i.config.getBallColor(),this.draw=function(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fillStyle=this.color,t.fill()},this.move=function(){this.dy+=this.g,this.y=this.y+this.dy},this.jump=function(){this.dy=-4},this.bounce_off=function(){this.y<this.radius?this.dy=5:this.y>this.canvas_h-this.radius&&(this.dy=-5)},this.blink=function(t){this.color="green",setTimeout(function(){this.color="blue"},100)}}function o(t){this.canvas_h=i.config.getCnvHeight(),this.x=i.config.getCnvWidth(),this.col_w=20,this.top_section=e.random(.2*this.canvas_h,.7*this.canvas_h),this.gap=e.random(.15*this.canvas_h,.3*this.canvas_h),this.color=i.config.getColumnsColor(),this.draw=function(t){t.beginPath(),t.rect(this.x,0,this.col_w,this.top_section),t.rect(this.x,this.top_section+this.gap,this.col_w,this.canvas_h),t.fillStyle=this.color,t.fill()},this.move=function(){this.x--}}return{Bird:function(t){return new n(t)},Columns:function(t){return new o(t)}}}();i.model=t,window.madball=i}(window.madball||{},window.__),function(h,f){"use strict";var t=function(){var n=null,o=null,i=null,e=[],r=null,a=200,s=0,c=!1,l=!1;function u(){s++,n.clearRect(0,0,o,i),r.draw(n),r.move();for(var t=e.length-1;-1<t;t--)e[t].draw(n),e[t].move();s%a==0&&(e.push(h.model.Columns(n)),a=f.random(160,200),s=0),e[0].x<-e[0].col_w&&e.shift(),r.bounce_off(),!l&&function(){for(var t=e.length-1;-1<t;t--)if(r.x+r.radius>=e[t].x&&r.x+r.radius<=e[t].x+e[t].col_w&&(r.y-r.radius<=e[t].top_section||r.y+r.radius>=e[t].top_section+e[t].gap))return!0}()&&(l=!0,r.color="green",setTimeout(function(){r.color="blue",l=!1},1500)),requestAnimationFrame(u)}document.onkeydown=function(t){32!=t.keyCode||c||(r.jump(),c=!0)},document.onkeyup=function(t){c=!1},window.onload=function(){n=h.config.getContext(),o=h.config.getCnvWidth(),i=h.config.getCnvHeight(),localStorage.getItem("config")?h.config.setGravity(parseFloat(h.db.read("gravity"))):(localStorage.setItem("config","{}"),h.db.create("gravity",h.config.getGravity())),r=h.model.Bird(n),e.push(h.model.Columns(n)),requestAnimationFrame(u)}}();h.controller=t,window.madball=h}(window.madball||{},window.__);