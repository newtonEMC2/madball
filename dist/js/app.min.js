var __=function(t){"use strict";if(void 0===window.__)return{random:function(t,e){if(!(e<=t||t<0||e<0))return Math.floor(Math.random()*(e-t+1)+t)}}}();!function(t){"use strict";var e,n,i,o,s,a,c,l,r,u,g,f,d,m,h,p,v,C,y,_,L,w,B,N=(e=document.getElementsByClassName("app__canvasWrapper-canvas")[0],n=e.getContext("2d"),i=document.getElementsByClassName("app__canvasWrapper")[0],o=document.getElementsByClassName("app__panel")[0],s=document.getElementsByClassName("app")[0],a=document.getElementsByClassName("app__canvasWrapper-info-lifes")[0],c=document.getElementsByClassName("app__canvasWrapper-info-clock")[0],l=document.getElementsByClassName("app__canvasWrapper-info-clock-actual")[0],r=document.getElementsByClassName("app__canvasWrapper-info-clock-best")[0],u=document.getElementsByClassName("icon-heart")[0],g=document.getElementsByClassName("icon-fullscreen")[0],f=document.getElementsByClassName("icon-minimize")[0],d=document.getElementsByClassName("icon-medal")[0],m=document.getElementsByClassName("icon-restart")[0],h=document.getElementsByClassName("icon-config")[0],p=document.getElementsByClassName("icon-close")[0],v=document.getElementsByClassName("app__canvasWrapper-prompt-start")[0],C=document.getElementsByClassName("app__canvasWrapper-prompt-end")[0],y=document.getElementsByClassName("app__overlay")[0],_=document.getElementsByClassName("app__popup-config")[0],L="blue",w=.1,B="white",{getCnv:function(){return e},getContext:function(){return n},getCnvHeight:function(){return 407},getCnvWidth:function(){return 318},getCanvasWrapper:function(){return i},getCanvasWrapperWidth:function(){return 318},getCanvasWrapperHeight:function(){return 407},getApp:function(){return s},getAppWidth:function(){return 318},getAppHeight:function(){return 447},getPanel:function(){return o},getPanelHeight:function(){return 40},getLifeCounter:function(){return a},getHeartIcon:function(){return u},getMinimizeIcon:function(){return f},getFullscreenIcon:function(){return g},getMedalIcon:function(){return d},getRestartIcon:function(){return m},getConfigIcon:function(){return h},getCloseIcon:function(){return p},getClock:function(){return c},getClockActualTime:function(){return l},getClockBestTime:function(){return r},getPromptStart:function(){return v},getPromptEnd:function(){return C},getOverlay:function(){return y},getConfigPopup:function(){return _},getXo:function(){return 159},getYo:function(){return 203.5},getBallRadius:function(){return 15},getBallColor:function(){return L},getGravity:function(){return w},getColumnsColor:function(){return B},getColumnsWidth:function(){return 20},getGapTopMin:function(){return 0},getGapTopMax:function(){return.65},getGapHeightMin:function(){return.2},getGapHeightMax:function(){return.35},getLifes:function(){return 2},GetDbName:function(){return"madballDB"},getDbResultsKey:function(){return"results"},getDbConfigKey:function(){return"config"},getDbResultsSize:function(){return"10"},setGravity:function(t){w=t},setBallColor:function(t){L=t},setColumnsColor:function(t){B=t}});t.config=N,window.madball=t}(window.madball||{}),function(g,i){"use strict";var t=function(){function e(){this.ctx=g.config.getContext(),this.canvas_h=g.config.getCnvHeight(),this.x=g.config.getXo(),this.y=g.config.getYo(),this.dx=0,this.dy=0,this.g=g.config.getGravity(),this.radius=g.config.getBallRadius(),this.color=g.config.getBallColor(),this.draw=function(t){this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.radius,0,2*Math.PI),this.ctx.fillStyle=this.color,this.ctx.fill()},this.move=function(){this.dy+=this.g,this.y=this.y+this.dy},this.jump=function(){this.dy=-4},this.bounce_off=function(){this.y<this.radius?this.dy=5:this.y>this.canvas_h-this.radius&&(this.dy=-5)}}function n(){this.ctx=g.config.getContext(),this.canvas_h=g.config.getCnvHeight(),this.x=g.config.getCnvWidth(),this.col_w=g.config.getColumnsWidth(),this.gap_top=i.random(this.canvas_h*g.config.getGapTopMin(),this.canvas_h*g.config.getGapTopMax()),this.gap_h=i.random(this.canvas_h*g.config.getGapHeightMin(),this.canvas_h*g.config.getGapHeightMax()),this.color=g.config.getColumnsColor(),this.draw=function(t){this.ctx.beginPath(),this.ctx.rect(this.x,0,this.col_w,this.gap_top),this.ctx.rect(this.x,this.gap_top+this.gap_h,this.col_w,this.canvas_h),this.ctx.fillStyle=this.color,this.ctx.fill()},this.move=function(){this.x--}}var t=function(){var e=!1,t=!1,n=g.config.getLifes(),i=g.config.getClockActualTime(),o=null,s=0,a=0,c=0,l=g.config.getPromptStart(),r=g.config.getPromptEnd();function u(){return c+(9<a?":":":0")+a+":"+s}return{getStarted:function(){return t},getLifes:function(){return n},getCollided:function(){return e},setCollided:function(t){e=t},reduceLife:function(){n--},gameOver:function(){return n<0},start:function(){t=!0,l.classList.add("is-hidden"),o=setInterval(function(){9<++s&&(s=0,a++),59<a&&(a=0,c++),i.innerHTML=u()},100)},showPromptStart:function(){l.classList.remove("is-hidden")},end:function(){t=!1,clearInterval(o),r.classList.remove("is-hidden")},timeToString:u}};return{Bird:function(t){return new e},Columns:function(t){return new n},Game:function(){return t()},DB:function(){return function(){var n=null,e=null,i=g.config.getDbResultsSize(),o=g.config.GetDbName(),t=g.config.getDbConfigKey(),s=g.config.getDbResultsKey();function a(t,e){(n=JSON.parse(localStorage.getItem("config")))[t]=e,localStorage.setItem("config",JSON.stringify(n))}function c(t){return t.sort()}return localStorage.getItem(g.config.GetDbName())||((n={})[t]={},n[s]=[],localStorage.setItem(o,JSON.stringify(n))),{addResult:function(t){n=JSON.parse(localStorage.getItem(o)),(e=n[s]).push(t),c(e),e.length>i&&(e.shift(),n[s]=e),localStorage.setItem(o,JSON.stringify(n))},showBestResult:function(){return n=JSON.parse(localStorage.getItem(o)),c(e=n[s]),e[e.length-1]},create:a,read:function(t){return(n=JSON.parse(localStorage.getItem("config")))[t]},update:function(t,e){a(t,e)},remove:function(t){delete(n=JSON.parse(localStorage.getItem("config")))[t],localStorage.setItem("config",JSON.stringify(n))}}}()}}}();g.model=t,window.madball=g}(window.madball||{},window.__),function(S,H){"use strict";var t=function(){var e=null,n=null,i=null,o=null,s=null,a=null,c=null,l=null,r=null,u=null,g=null,f=null,d=null,m=null,h=null,p=null,v=null,C=null,y=[],_=null,L=null,w=null,B=200,N=0,E=null,b=!1;function x(){N++,n.clearRect(0,0,i,o),_.draw(n),_.move();for(var t=y.length-1;-1<t;t--)y[t].draw(n),y[t].move();N%B==0&&(y.push(S.model.Columns(n)),B=H.random(160,200),N=0),y[0].x<-y[0].col_w&&y.shift(),_.bounce_off(),!L.getCollided()&&function(){for(var t=y.length-1;-1<t;t--)if(_.x+_.radius>=y[t].x&&_.x+_.radius<=y[t].x+y[t].col_w&&(_.y-_.radius<=y[t].gap_top||_.y+_.radius>=y[t].gap_top+y[t].gap_h))return!0}()&&(L.setCollided(!0),_.color="green",L.reduceLife(),setTimeout(function(){_.color="blue",L.setCollided(!1)},1500)),-1!=L.getLifes()?l.innerHTML=L.getLifes()+f.outerHTML:l.innerHTML=0+f.outerHTML,!L.gameOver()&&L.getStarted()?requestAnimationFrame(x):L.gameOver()&&L.getStarted()&&(cancelAnimationFrame(E),L.end(),w.addResult(L.timeToString()))}document.addEventListener("DOMContentLoaded",function(t){e=S.config.getCnv(),n=S.config.getContext(),i=S.config.getCnvWidth(),o=S.config.getCnvHeight(),a=S.config.getCanvasWrapper(),c=S.config.getApp(),s=S.config.getPanel(),g=S.config.getClockBestTime(),l=S.config.getLifeCounter(),f=S.config.getHeartIcon(),d=S.config.getMinimizeIcon(),m=S.config.getFullscreenIcon(),h=S.config.getMedalIcon(),p=S.config.getRestartIcon(),v=S.config.getConfigIcon(),C=S.config.getCloseIcon(),r=S.config.getOverlay(),u=S.config.getConfigPopup(),_=S.model.Bird(),y.push(S.model.Columns()),L=S.model.Game(),w=S.model.DB(),e.width=S.config.getCnvWidth(),e.height=S.config.getCnvHeight(),a.style.height=S.config.getCanvasWrapperHeight()+"px",s.style.height=S.config.getPanelHeight()+"px",c.style.width=S.config.getAppWidth()+"px",c.style.height=S.config.getAppHeight()+"px",x(),L.showPromptStart(),document.onkeydown=function(t){t.preventDefault(),32==t.keyCode&&!b&&L.getStarted()?(_.jump(),b=!0):32!=t.keyCode||b||L.getStarted()||L.gameOver()?32!=t.keyCode||b||L.getStarted()||!L.gameOver()||location.reload():(L.start(),E=requestAnimationFrame(x))},document.onkeyup=function(t){b=!1},e.onclick=function(t){L.getStarted()?_.jump():L.gameOver()?location.reload():(L.start(),E=requestAnimationFrame(x))},m.onclick=function(t){m.classList.add("is-hidden"),d.classList.remove("is-hidden"),r.classList.remove("is-hidden"),c.classList.add("is-centered")},d.onclick=function(t){d.classList.add("is-hidden"),m.classList.remove("is-hidden"),r.classList.add("is-hidden"),c.classList.remove("is-centered")},h.onclick=function(t){g.classList.contains("is-hidden")?(g.classList.remove("is-hidden"),g.innerHTML="best: "+(JSON.parse(localStorage.getItem("madballDB")).results[0]?w.showBestResult():"0:00:0")):g.classList.add("is-hidden")},p.onclick=function(t){location.reload()},v.onclick=function(t){u.classList.contains("is-hidden")?u.classList.remove("is-hidden"):u.classList.add("is-hidden")},C.onclick=function(t){u.classList.add("is-hidden")}})}();S.controller=t,window.madball=S}(window.madball||{},window.__),function(t){"use strict";var e=function(){var t=document.getElementsByClassName("pageHeader__nav")[0],e=document.getElementsByClassName("tab__results")[0],n=document.getElementsByClassName("tab__about")[0],i=document.getElementsByClassName("tab__play")[0],o=document.getElementsByClassName("pageHeader__toggle")[0],s=document.getElementsByClassName("footer")[0],a=document.getElementsByClassName("pageHeader")[0],c=(document.getElementsByTagName("body")[0],document.getElementsByClassName("results__list-item-time")),l=document.getElementsByClassName("results")[0],r=document.getElementsByClassName("about")[0],u=document.getElementsByClassName("section-app")[0],g=document.getElementsByClassName("special__wrapper-app")[0],f=document.getElementsByClassName("special__wrapper-header")[0],d=document.getElementsByClassName("icon-fullscreen")[0],m=null,h=null,p=null,v=null,C={tab__play:0,tab__results:null,tab__about:null};function y(){t.classList.contains("is-phone-nav-active")?(t.classList.remove("is-phone-nav-active"),o.classList.remove("is-toggle-nav-active")):(t.classList.add("is-phone-nav-active"),o.classList.add("is-toggle-nav-active"))}function _(){s.classList.remove("is-sticky"),s.offsetTop+s.offsetHeight<window.innerHeight&&s.classList.add("is-sticky")}function L(){f.style.height=a.offsetHeight+"px",window.matchMedia("(min-width: 1050px)").matches?(v=a.offsetHeight,s.offsetTop,l.style.minHeight=window.innerHeight-v+"px",r.style.minHeight="100vh",g.style.height=l.offsetHeight+r.offsetHeight+"px",u.style.height=window.innerHeight-v+"px"):(g.removeAttribute("style"),l.removeAttribute("style"),r.removeAttribute("style"),u.removeAttribute("style"))}function w(t){v=a.offsetHeight,h=l.offsetTop,p=r.offsetTop,C.tab__results=h-v,C.tab__about=p-v;for(var e=t.target.classList,n=0;n<e.length;n++)for(var i in C)i===e[n]&&(window.scrollTo(0,C[i]),console.log(C[i]))}o.addEventListener("click",y),d.addEventListener("click",function(){t.classList.remove("is-phone-nav-active"),o.classList.remove("is-toggle-nav-active")}),e.addEventListener("click",function(t){w(t),y()}),n.addEventListener("click",function(t){w(t),y()}),i.addEventListener("click",function(t){w(t),y()}),window.addEventListener("resize",function(){L(),_()}),document.addEventListener("DOMContentLoaded",function(){!function(){m=(m=JSON.parse(localStorage.getItem("madballDB"))).results.sort().reverse();for(var t=0;t<c.length;t++)m[t]?c[t].innerHTML=m[t]:c[t].innerHTML="..."}(),L(),_()})}();t.ui=e}(window);