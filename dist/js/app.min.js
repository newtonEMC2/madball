var __=function(t){"use strict";if(void 0===window.__)return{random:function(t,e){if(!(e<=t||t<0||e<0))return Math.floor(Math.random()*(e-t+1)+t)}}}();!function(t){"use strict";var e,n,i,o,a,r,s,c,l,u,g,d,f,m,h,v=(e=document.getElementsByClassName("canvas")[0],n=e.getContext("2d"),i=document.getElementsByClassName("canvasWrapper")[0],o=document.getElementById("app-template"),a=document.getElementsByClassName("canvasWrapper__info-lifes")[0],r=document.getElementsByClassName("canvasWrapper__info-clock")[0],s=document.getElementsByClassName("icon-heart")[0],c=document.getElementsByClassName("icon-fullscreen")[0],l=document.getElementsByClassName("icon-minimize")[0],u=document.getElementsByClassName("canvasWrapper__prompt-start")[0],g=document.getElementsByClassName("canvasWrapper__prompt-end")[0],d=document.getElementsByClassName("canvasWrapper__overlay")[0],f="blue",m=.1,h="white",{getCnv:function(){return e},getContext:function(){return n},getCnvHeight:function(){return 407},getCnvWidth:function(){return 318},getCanvasWrapper:function(){return i},getCanvasWrapperWidth:function(){return 318},getCanvasWrapperHeight:function(){return 407},getApp:function(){return o},getAppWidth:function(){return 318},getLifeCounter:function(){return a},getHeartIcon:function(){return s},getMinimizeIcon:function(){return l},getFullscreenIcon:function(){return c},getClock:function(){return r},getPromptStart:function(){return u},getPromptEnd:function(){return g},getOverlay:function(){return d},getXo:function(){return 159},getYo:function(){return 203.5},getBallRadius:function(){return 15},getBallColor:function(){return f},getGravity:function(){return m},getColumnsColor:function(){return h},getColumnsWidth:function(){return 20},getGapTopMin:function(){return 0},getGapTopMax:function(){return.65},getGapHeightMin:function(){return.2},getGapHeightMax:function(){return.35},getLifes:function(){return 2},setGravity:function(t){m=t},setBallColor:function(t){f=t},setColumnsColor:function(t){h=t}});t.config=v,window.madball=t}(window.madball||{}),function(t){"use strict";if("undefined"!=typeof localStorage){var e=function(){var n=null;function i(t,e){(n=JSON.parse(localStorage.getItem("config")))[t]=e,localStorage.setItem("config",JSON.stringify(n))}return{create:i,read:function(t){return(n=JSON.parse(localStorage.getItem("config")))[t]},update:function(t,e){i(t,e)},delete:function(t){delete(n=JSON.parse(localStorage.getItem("config")))[t],localStorage.setItem("config",JSON.stringify(n))}}}();t.db=e,window.madball=t}else alert("your browser does not support local storage\nTry to update you browser")}(window.madball||{}),function(u,i){"use strict";var t=function(){function e(t){this.canvas_h=u.config.getCnvHeight(),this.x=u.config.getXo(),this.y=u.config.getYo(),this.dx=0,this.dy=0,this.g=u.config.getGravity(),this.radius=u.config.getBallRadius(),this.color=u.config.getBallColor(),this.draw=function(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fillStyle=this.color,t.fill()},this.move=function(){this.dy+=this.g,this.y=this.y+this.dy},this.jump=function(){this.dy=-4},this.bounce_off=function(){this.y<this.radius?this.dy=5:this.y>this.canvas_h-this.radius&&(this.dy=-5)}}function n(t){this.canvas_h=u.config.getCnvHeight(),this.x=u.config.getCnvWidth(),this.col_w=u.config.getColumnsWidth(),this.gap_top=i.random(this.canvas_h*u.config.getGapTopMin(),this.canvas_h*u.config.getGapTopMax()),this.gap_h=i.random(this.canvas_h*u.config.getGapHeightMin(),this.canvas_h*u.config.getGapHeightMax()),this.color=u.config.getColumnsColor(),this.draw=function(t){t.beginPath(),t.rect(this.x,0,this.col_w,this.gap_top),t.rect(this.x,this.gap_top+this.gap_h,this.col_w,this.canvas_h),t.fillStyle=this.color,t.fill()},this.move=function(){this.x--}}var t=function(){var e=!1,t=!1,n=u.config.getLifes(),i=u.config.getClock(),o=null,a=0,r=0,s=0,c=u.config.getPromptStart(),l=u.config.getPromptEnd();return{getStarted:function(){return t},getLifes:function(){return n},getCollided:function(){return e},setCollided:function(t){e=t},reduceLife:function(){n--},gameOver:function(){return n<0},start:function(){t=!0,c.classList.add("is-hidden"),o=setInterval(function(){9<++a&&(a=0,r++),59<r&&(r=0,s++),i.innerHTML=s+(9<r?":":":0")+r+":"+a},100)},showPromptStart:function(){c.classList.remove("is-hidden")},end:function(){t=!1,clearInterval(o),l.classList.remove("is-hidden")}}};return{Bird:function(t){return new e(t)},Columns:function(t){return new n(t)},Game:function(){return t()}}}();u.model=t,window.madball=u}(window.madball||{},window.__),function(y,_){"use strict";var t=function(){var t=null,e=null,n=null,i=null,o=null,a=null,r=null,s=null,c=null,l=null,u=null,g=[],d=null,f=null,m=200,h=0,v=null,p=!1;function C(){h++,e.clearRect(0,0,n,i),d.draw(e),d.move();for(var t=g.length-1;-1<t;t--)g[t].draw(e),g[t].move();h%m==0&&(g.push(y.model.Columns(e)),m=_.random(160,200),h=0),g[0].x<-g[0].col_w&&g.shift(),d.bounce_off(),!f.getCollided()&&function(){for(var t=g.length-1;-1<t;t--)if(d.x+d.radius>=g[t].x&&d.x+d.radius<=g[t].x+g[t].col_w&&(d.y-d.radius<=g[t].gap_top||d.y+d.radius>=g[t].gap_top+g[t].gap_h))return!0}()&&(f.setCollided(!0),d.color="green",f.reduceLife(),setTimeout(function(){d.color="blue",f.setCollided(!1)},1500)),-1!=f.getLifes()?r.innerHTML=f.getLifes()+c.outerHTML:r.innerHTML=0+c.outerHTML,!f.gameOver()&&f.getStarted()?requestAnimationFrame(C):f.gameOver()&&f.getStarted()&&(f.end(),cancelAnimationFrame(v))}document.addEventListener("DOMContentLoaded",function(){t=y.config.getCnv(),e=y.config.getContext(),n=y.config.getCnvWidth(),i=y.config.getCnvHeight(),o=y.config.getCanvasWrapper(),a=y.config.getApp(),r=y.config.getLifeCounter(),c=y.config.getHeartIcon(),l=y.config.getMinimizeIcon(),u=y.config.getFullscreenIcon(),s=y.config.getOverlay(),d=y.model.Bird(e),g.push(y.model.Columns(e)),f=y.model.Game(),t.width=y.config.getCnvWidth(),t.height=y.config.getCnvHeight(),o.style.height=y.config.getCanvasWrapperHeight()+"px",a.style.width=y.config.getAppWidth()+"px",C(),localStorage.getItem("config")?y.config.setGravity(parseFloat(y.db.read("gravity"))):(localStorage.setItem("config","{}"),y.db.create("gravity",y.config.getGravity())),f.showPromptStart(),document.onkeydown=function(t){32==t.keyCode&&!p&&f.getStarted()?(d.jump(),p=!0):32!=t.keyCode||p||f.getStarted()||f.gameOver()?32!=t.keyCode||p||f.getStarted()||!f.gameOver()||location.reload():(f.start(),v=requestAnimationFrame(C))},document.onkeyup=function(t){p=!1},t.onclick=function(t){f.getStarted()?d.jump():f.gameOver()?location.reload():(f.start(),v=requestAnimationFrame(C))},u.onclick=function(t){u.classList.add("is-hidden"),l.classList.remove("is-hidden"),s.classList.remove("is-hidden"),o.classList.add("is-centered")},l.onclick=function(t){l.classList.add("is-hidden"),u.classList.remove("is-hidden"),s.classList.add("is-hidden"),o.classList.remove("is-centered")}})}();y.controller=t,window.madball=y}(window.madball||{},window.__),function(t){"use strict";var e,n,i,o=(e=document.getElementsByClassName("pageHeader__nav")[0],n=document.getElementsByClassName("pageHeader__toggle")[0],i=document.getElementsByClassName("icon-fullscreen")[0],n.addEventListener("click",function(){e.classList.contains("is-phone-nav-active")?(e.classList.remove("is-phone-nav-active"),n.classList.remove("is-toggle-nav-active")):(e.classList.add("is-phone-nav-active"),n.classList.add("is-toggle-nav-active"))}),void i.addEventListener("click",function(){e.classList.remove("is-phone-nav-active"),n.classList.remove("is-toggle-nav-active")}));t.ui=o}(window);