var __=function(t){"use strict";if(void 0===window.__)return{random:function(t,n){if(!(n<=t||t<0||n<0))return Math.floor(Math.random()*(n-t+1)+t)}}}();!function(t){"use strict";var n,i,e,o,r,a,c,u,s,l,f,g,d=(n=document.getElementById("canvas"),i=n.getContext("2d"),e=window.matchMedia("(min-width: 721px )").matches?680:window.matchMedia("(min-width: 461px )").matches?455:318,o=e/.78,r=document.getElementsByClassName("infoPanel__lifes")[0],a=15*e/340,c="blue",u=.1,s=e/2,l=o/2,f="white",g=20*e/340,{getCnv:function(){return n},getContext:function(){return i},getCnvHeight:function(){return o},getCnvWidth:function(){return e},getLifeCounter:function(){return r},getXo:function(){return s},getYo:function(){return l},getBallRadius:function(){return a},getBallColor:function(){return c},getGravity:function(){return u},getColumnsColor:function(){return f},getColumnsWidth:function(){return g},getGapTopMin:function(){return 0},getGapTopMax:function(){return.65},getGapHeightMin:function(){return.2},getGapHeightMax:function(){return.35},getLifes:function(){return 2},setGravity:function(t){u=t},setBallColor:function(t){c=t},setColumnsColor:function(t){f=t}});t.config=d,window.madball=t}(window.madball||{}),function(t){"use strict";if("undefined"!=typeof localStorage){var n=function(){var i=null;function e(t,n){(i=JSON.parse(localStorage.getItem("config")))[t]=n,localStorage.setItem("config",JSON.stringify(i))}return{create:e,read:function(t){return(i=JSON.parse(localStorage.getItem("config")))[t]},update:function(t,n){e(t,n)},delete:function(t){delete(i=JSON.parse(localStorage.getItem("config")))[t],localStorage.setItem("config",JSON.stringify(i))}}}();t.db=n,window.madball=t}else alert("your browser does not support local storage\nTry to update you browser")}(window.madball||{}),function(e,o){"use strict";var t=function(){function n(t){this.canvas_h=e.config.getCnvHeight(),this.x=e.config.getXo(),this.y=e.config.getYo(),this.dx=0,this.dy=0,this.g=e.config.getGravity(),this.radius=e.config.getBallRadius(),this.color=e.config.getBallColor(),this.draw=function(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fillStyle=this.color,t.fill()},this.move=function(){this.dy+=this.g,this.y=this.y+this.dy},this.jump=function(){this.dy=-4},this.bounce_off=function(){this.y<this.radius?this.dy=5:this.y>this.canvas_h-this.radius&&(this.dy=-5)}}function i(t){this.canvas_h=e.config.getCnvHeight(),this.x=e.config.getCnvWidth(),this.col_w=e.config.getColumnsWidth(),this.gap_top=o.random(this.canvas_h*e.config.getGapTopMin(),this.canvas_h*e.config.getGapTopMax()),this.gap_h=o.random(this.canvas_h*e.config.getGapHeightMin(),this.canvas_h*e.config.getGapHeightMax()),this.color=e.config.getColumnsColor(),this.draw=function(t){t.beginPath(),t.rect(this.x,0,this.col_w,this.gap_top),t.rect(this.x,this.gap_top+this.gap_h,this.col_w,this.canvas_h),t.fillStyle=this.color,t.fill()},this.move=function(){this.x--}}var t={collided:!1,started:!1,lifes:e.config.getLifes(),reduceLife:function(){this.lifes--},gameOver:function(){return this.lifes<0},start:function(){this.started=!0},end:function(){this.started=!1}};return{Bird:function(t){return new n(t)},Columns:function(t){return new i(t)},Game:function(){return t}}}();e.model=t,window.madball=e}(window.madball||{},window.__),function(d,h){"use strict";var t=function(){var t=null,n=null,i=null,e=null,o=null,r=[],a=null,c=null,u=200,s=0,l=null,f=!1;function g(){s++,n.clearRect(0,0,i,e),a.draw(n),a.move();for(var t=r.length-1;-1<t;t--)r[t].draw(n),r[t].move();s%u==0&&(r.push(d.model.Columns(n)),u=h.random(160,200),s=0),r[0].x<-r[0].col_w&&r.shift(),a.bounce_off(),!c.collided&&function(){for(var t=r.length-1;-1<t;t--)if(a.x+a.radius>=r[t].x&&a.x+a.radius<=r[t].x+r[t].col_w&&(a.y-a.radius<=r[t].gap_top||a.y+a.radius>=r[t].gap_top+r[t].gap_h))return!0}()&&(c.collided=!0,a.color="green",c.reduceLife(),setTimeout(function(){a.color="blue",c.collided=!1},1500)),-1!=c.lifes?o.innerHTML=c.lifes:o.innerHTML=0,!c.gameOver()&&c.started?requestAnimationFrame(g):cancelAnimationFrame(l)}document.addEventListener("DOMContentLoaded",function(){t=d.config.getCnv(),n=d.config.getContext(),i=d.config.getCnvWidth(),e=d.config.getCnvHeight(),o=d.config.getLifeCounter(),a=d.model.Bird(n),r.push(d.model.Columns(n)),c=d.model.Game(),t.width=d.config.getCnvWidth(),t.height=d.config.getCnvHeight(),localStorage.getItem("config")?d.config.setGravity(parseFloat(d.db.read("gravity"))):(localStorage.setItem("config","{}"),d.db.create("gravity",d.config.getGravity())),g(),document.onkeydown=function(t){32==t.keyCode&&!f&&c.started?(a.jump(),f=!0):32!=t.keyCode||f||c.started||(c.start(),l=requestAnimationFrame(g))},document.onkeyup=function(t){f=!1},t.onclick=function(t){c.started?a.jump():(c.start(),l=requestAnimationFrame(g))}})}();d.controller=t,window.madball=d}(window.madball||{},window.__);